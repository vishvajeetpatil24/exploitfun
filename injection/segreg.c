#include <asm/desc.h>

struct desc_ptr gdtptr; // gdt base addr and size
struct desc_struct *gdt; // gdt entry object
int i;

store_gdt(&gdtptr); // get gdt base and size

printk("\ngdt size %d\n", gdtptr.size);
printk("\ngdt address %x\n", gdtptr.address);

gdt = (struct desc_struct *)gdtptr.address;

for (i = 0; i < gdtptr.size; i++) {
/*
* Access segment descriptor fields
*/
gdt++;
}