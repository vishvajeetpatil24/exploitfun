#include <stdio.h>
#include <stdlib.h>
#include <string.h>
struct fake_chunk
{
	size_t prev_size;
	size_t size;
	struct fake_chunk *fd;
	struct fake_chunk *bck;
};
int main()
{
	char *A = malloc(10);
	char *B = malloc(10);
	printf("Address of A is %p\n",A);
	strcpy(A,"HelloWorld");
	free(A);
	free(B);
	free(A);
	char *A1 = malloc(10);
	struct fake_chunk faker;
	faker.size = 0x10;
	*((unsigned int *)A1) = (unsigned int)&faker;
	malloc(10); //B chunk gone 
	malloc(10); //old A again allocated which was already allocated
	printf ("Address of faker is %p\n",&faker);
	char *X = malloc(10);
	printf("The address of fake chunk usable area starting is %p\n",X);
	strcpy(X,"India");
	printf ("The string stored in fake chunk usable area is %s\n",X);
	return 0;
}	